[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Т’юторіал з R для психологів",
    "section": "",
    "text": "Передмова\nСтаття відноситься до особливого сучасного жанру наукових публікацій, так званих т’юторіалів – статей, присвячених питанням застосування новітніх методів дизайну, моделювання або аналізу в доступному викладі з метою розповсюдження кращих практик. Стаття знайомить вітчизняних психологів з основами використання мови програмування R для аналізу даних емпіричного дослідження. В ній міститься обговорення стану справ у світовій психології у зв’язку з кризою довіри, яка виникла внаслідок низької відтворюваності результатів психологічних досліджень. Ця проблема виникла через невисоку якість психологічних вимірювальних інструментів, недостатню увагу до питань адекватного планування об’єму вибірки, типову практику перевірки статистичних гіпотез і так звані «сумнівні дослідницькі практики» з метою отримання статистично значущих результатів. На даних дослідження суб’єктивного стресу 462 студентів НаУКМА демонструються методи визначення об’єму вибірки в залежності від очікуваної величини ефекту і потужності, виконання перетворень змінних і статистичного аналізу даних психологічного дослідження за допомогою мови і середовища R. Наводиться мінімально необхідна система функцій R, за допомогою яких можна здійснити: сучасний аналіз надійності вимірювальних шкал, визначення об’єму вибірки, точкову і інтервальну оцінку величини ефекту для чотирьох найбільш розповсюджених в психології задач аналізу взаємозалежності двох змінних. Розглядаються такі типові задачі, як пошук відмінностей середніх і дисперсій в двох чи більшій кількості сукупностей, кореляційних зв’язків між неперервними і категоріальними змінними. Наводяться практичні відомості про підготовку та імпорт даних, виконання базових перетворень та застосування основних статистичних методів в хмарній версії програми RStudio."
  },
  {
    "objectID": "intro.html#аналіз-останніх-публікацій",
    "href": "intro.html#аналіз-останніх-публікацій",
    "title": "1  Вступ",
    "section": "1.1 Аналіз останніх публікацій",
    "text": "1.1 Аналіз останніх публікацій\nУ зв’язку з значною вартістю комерційного програмного забезпечення статистичного аналізу даних і перевагам відкритого програмного забезпечення, викладання методологічних дисциплін в західних університетах поступово переорієнтовується на застосування мов програмування R, Python і Julia. Швидкими темпами збільшується кількість наукових публікацій в наукових психологічних журналах, які базуються на використанні R для проведення аналізу даних. Наприклад, в журналі Journal of Research in Personality (імпакт-фактор 2.767), в 2014 була опублікована лише одна така стаття, а у 2018-му і 2019-му – вже 10 і 8 відповідно. У 2015 році цілий спеціальний випуск цього журналу був присвячений використанню R в психології. Саме завдяки R став дуже популярним особливий жанр журнальних публікацій – статті-т’юторіали, які на конкретних прикладах пояснюють використання як базових, так і просунутих сучасних статистичних методів. Ось лише декілька нещодавно опублікованих т’юторіалів: в статті (Costantini et al., 2015) читачам запропоновано ознайомитися на практичних прикладах з новітньою методологією використання мережевого аналізу в царині психології особистості. Стаття (Bürkner & Vuorre, 2019) присвячена застосуванню моделей порядкового регресійного аналізу в психології. Т’юторіал (Assink & Wibbelink, 2016) покроково знайомить психологів з тим, як за допомогою методів, реалізованих в R, здійснювати багаторівневий мета-аналіз. Сьогодні подібних публікацій у західних психологічних журналах нараховується вже десятками.\nОсобливої уваги вітчизняних фахівців заслуговує журнал відкритого доступу Collabra:Psychology (https://www.collabra.org) – офіційне видання наукового товариства Society for the Improvement of Psychological Science («Товариство з покращення психологічної науки»). В цьому журналі у відповідності принципам відкритої Науки статті мають містити як емпіричні дані проведеного авторами дослідження, так й скрипти їхнього статистичного аналізу (частіше за все на мові програмування R). Все частіше західні психологічні журнали вимагають наявності в статті розділу Data Availability Statement (заява про доступність даних) і посилання на сховище, в якому інші дослідники можуть знайти використані в дослідженні стимульний матеріал, таблиці даних, а також синтаксис трансформацій і аналітичних процедур (Greiff et al., 2020). На мою думку, подібні вимоги варто запровадити й у вітчизняних психологічних виданнях. Для зберігання такої інформації створюються численні сховища, де науковці можуть безплатно розмістити свої матеріали для публічного доступу. Одним з таких важливих ресурсів є Open Science Framework, який належить Центру Відкритої Науки (https://osf.io/).\nПублікації в журналі Collabra:Psychology можуть вважатися взірцями сучасного підходу до проведення психологічного дослідження, на яких можна вчитися тому, як слід використовувати R для збирання і обробки даних на всіх його етапах. Поступово мова і середовище програмування R стає також основою університетських підручників з аналізу даних для студентів в галузі соціальних і поведінкових наук. Наприклад, Енді Філд, автор одного з найбільш популярних підручників із статистичного аналізу даних за допомогою відомого пакету IBM SPSS Statistics, ще у 2012 році видав аналогічний підручник значного об’єму (992 сторінки!) для мови програмування R (Field et al., 2012). Ще раніше вийшов підручник з аналізу даних для психологів, в якому одночасно висвітлюються одночасно і R, і SPSS Statistics (Rasch et al., 2011). Більше того, навіть у дуже популярній серії посібників For Dummies («Для Чайників») з’явилося вже друге видання підручника з статистичного аналізу в R (Schmuller, 2017).\nЗростає також кількість публікацій, доступних широкому колу вітчизняних дослідників. Російською мовою видано декілька перекладів популярних англомовних підручників з R (Кабаков, 2014; Мэтлофф, 2019; Уикем & Гроулмунд, 2016), а також оригінальні монографії авторів з РФ (Мастицкий & Шитиков, 2015; Шипунов et al., 2012). Українською мовою, наскільки мені відомо, поки існує тільки один підручник з R, розрахований на студентів механіко-математичного факультету спеціальностей «Статистика» і «Математика» (Майборода, 2019).\nВиокремлення невирішених частин загальної проблеми. Мова R дуже динамічно розвивається, тому переклади західних підручників швидко застарівають. Також для більшості вказаних вище джерел російською і українською мовами характерним є, з одного боку, надмірна кількість непотрібної для новачка інформації, а з іншого боку – брак важливих для психолога відомостей про статистичні методи, за допомогою яких пропонується подолання кризи відтворюваності. Початківцю ж часто потрібен швидкий шлях для вирішення того конкретного завдання аналізу емпіричних даних, яке перед ним постало у зв’язку з досягненням певної освітньої чи наукової мети. Отже, існує нагальна потреба відбору мінімальної кількості сучасних аналітичних інструментів, які можуть використовуватися студентами і аспірантами в галузі психології для обробки емпіричних даних у відповідності до сучасних вимог. Частково цю задачу вирішують статистичні програми, які надбудовуються над мовою R: jamovi (http://jamovi.org) та JASP (https://jasp-stats.org/). Ці програми будуються на ретельно підібраному наборі статистичних методів і мають простий для взаємодії з користувачем графічний інтерфейс. Проте, вони поки що суттєво обмежені у функціональності і скоріше перешкоджають повноцінному оволодінню сучасним статистичним програмним забезпеченням. В цьому т’юторіалі я використав основну частину функцій саме з пакету jmv, який покладено в основу програми jamovi, доповнюючи її при необхідності функціями з інших пакетів.\nМета статті – перш за все методична: познайомити українських дослідників з можливостями мови програмування і середовища R, навести базову інформацію, яка дозволить студентам і науковцям розпочати використання R в психологічних дослідженнях у відповідності до запропонованих шляхів виходу з кризи відтворюваності. Підпорядкована мета – сприяти розповсюдженню знання принципів Відкритої Науки у вітчизняній науці. Заява про доступність даних. У відповідності до принципів Відкритої Науки таблиця даних (див. https://osf.io/egs3d/) і скрипт статистичного аналізу (див. https://osf.io/x3wfe/) розміщено на сайті Open Science Framework, що дає можливість повністю відтворити наведені в цій статті результати."
  },
  {
    "objectID": "part1.html#етапи-дослідження",
    "href": "part1.html#етапи-дослідження",
    "title": "2  Приступаємо до аналізу",
    "section": "2.1 Етапи дослідження",
    "text": "2.1 Етапи дослідження\nЗазвичай емпіричне психологічне дослідження розгортається у такій послідовності: 1) Планування дослідження: визначення його дизайну, величини очікуваних ефектів і потрібного об’єму вибірки, підбір або створення якісних інструментів вимірювання психологічних конструктів; 2) Збирання і введення даних у комп’ютер; 3) Імпорт таблиці даних в середовище R; 4) Попередня обробка даних: використання статистичних процедур для перевірки якості даних (наприклад, пошук незвичних спостережень, які можуть негативно позначитися на результатах — так званих «викидів»), обчислення показників надійності для психологічних шкал; 5) Обчислення індексів (інтегральних показників, факторів), перекодування змінних, створення факторів (категоріальних змінних), категоризація неперервних ознак, агрегація даних, зміна структури таблиці даних (перевертання, витягнення по горизонталі чи вертикалі); 6) Відбір спостережень для аналізу (наприклад, виключення пропущених значень чи зосередження на цільовій сукупності досліджуваних); 7) Виклик статистичних процедур для опису даних, перевірки гіпотез і побудови статистичних моделей; 8) Створення фінального звіту за результатами. R за допомогою мови розмітки Markdown дозволяє генерувати такі звіти з таблицями, графіками і довільним текстом у форматі PDF, HTML і Word."
  },
  {
    "objectID": "part1.html#інсталяція-r",
    "href": "part1.html#інсталяція-r",
    "title": "2  Приступаємо до аналізу",
    "section": "2.2 Інсталяція R",
    "text": "2.2 Інсталяція R\nПеред початком роботи потрібно встановити R на комп’ютері з дистрибутивів в залежності від типу операційної системи (див. веб-сайт проекту https://cran.r-project.org/ або компанії Майкрософт https://mran.microsoft.com/). Набагато зручніше працювати з R у спеціальному середовищі розробника — RStudio (див. https://rstudio.com/). Проте для початківців найкращий варіант — скористатися хмарною версією R і RStudio, яку можна знайти за посиланням http://rstudio.cloud. Вхід до хмарної версії здійснюється після простої процедури реєстрації. Суттєвими перевагами цього способу є відсутність необхідності інсталювати і оновлювати програми на власному комп’ютері, постійний доступ до даних і скриптів аналізу через мережу Інтернет, а також можливість спільної роботи з викладачем чи іншими дослідниками."
  },
  {
    "objectID": "part1.html#підготовка-даних",
    "href": "part1.html#підготовка-даних",
    "title": "2  Приступаємо до аналізу",
    "section": "2.3 Підготовка даних",
    "text": "2.3 Підготовка даних\nНайбільш оптимальним форматом збереження даних для початківця є формат Microsoft Excel. Якщо цей табличний процесор не встановлений на вашому комп’ютері, можна скористатися безплатним сервісом Google Таблиці. Це особливо зручно, коли збирання даних здійснюється за допомогою сервісу опитувань Google Форми, оскільки відповіді респондентів відразу зберігаються у потрібному вигляді. Зібрані дані можна звантажити у форматі Microsoft Excel, або скористатися можливістю отримати доступ до них безпосередньо з R."
  },
  {
    "objectID": "part1.html#опис-даних",
    "href": "part1.html#опис-даних",
    "title": "2  Приступаємо до аналізу",
    "section": "2.4 Опис даних",
    "text": "2.4 Опис даних\nДані, на яких будуть демонструватися можливості R в цій статті, представляють собою результати опитування студентів НаУКМА, проведеного у 2019 році в рамках бакалаврської кваліфікаційної роботи Марією Жаб’юк за адаптованою версією шкали Perceived Stress Scale (Cohen et al., 1983).\nШкала PSS складається з 10 питань, мета яких – отримати інформацію про те, в якій мірі досліджувані сприймають різноманітні обставини свого життя як стресові.\nНаприклад, перше питання має такий вигляд: «Наскільки часто ви за останній місяць … Були засмучені через те, що сталось несподівано?».\nДосліджувані обирали один з п’яти варіантів відповіді: ніколи (0 балів), майже ніколи (1 бал), іноді (2 бали), доволі часто (3 бали), дуже часто (4 бали).\nПоловина пунктів шкали має зворотний ключ (питання 4, 5, 7, 8) для контролю установки давати однакові відповіді.\nPicture 1\nТаблиця даних містить відповіді 462 досліджуваних (див. Рис. 1). На додаток до ідентифікаційного номеру досліджуваного і десяти питань шкали PSS в ній представлені стать (gender), курс (year) і фінансовий стан сім’ї студента (fin_state).\nПереглянути і завантажити ці дані в форматі Excel можна за посиланням https://osf.io/egs3d/ з сайту Open Science Framework (OSF).\nНа прикладі цієї таблиці легко пояснити основні моменти підготовки даних дослідження для наступного статистичного аналізу в R:\n\nПерший рядок таблиці має містити імена змінних (їхні скорочені позначення). Правила вибору імен для змінних наступні: вони мають починатися з літери (краще латинського алфавіту) чи крапки, після яких можуть йти інші літери, цифри 0-9, крапка чи символ нижнього підкреслювання. Пробіл в іменах змінних є неприпустимим. Імена варто обирати так, щоб можна було легко зрозуміти, яка змінна аналізується. Зверніть увагу, що R розрізняє великі і маленькі літери в іменах об’єктів, тому змінні gender, Gender і GENDER будуть сприйматися як різні.\nЗа бажанням розгорнуту інформацію про змінну можна розмістити у додатковому аркуші книги (на Рис. 1 це аркуш Variable View). Загалом функції R, на відміну від пакету IBM SPSS Statistics, не працюють з довгими текстовими мітками змінних (variable label), проте це обмеження при необхідності можна легко обійти.\nПерший стовпчик таблиці має містити унікальний код досліджуваного, за яким його можна ідентифікувати при здійсненні злиття, відбору, чистки даних чи внесенні додаткової інформації про учасників, що може з’явитися пізніше. Важливо зберігати анонімність досліджуваних, якщо дані будуть розповсюджуватися, тому ідентифікувати їх краще за все числами або спеціальними кодами.\nЯкщо значення певної змінної у досліджуваного з тих чи інших причин відсутнє, клітинку потрібно лишити пустою. При імпорті даних в R пусті клітинки отримають спеціальне значення NA («Not Available»), яке буде враховуватися при обчисленнях. Також відсутні значення можна закодувати рядком NA або будь-яким числом, яке буде вказуватися при імпорті даних як ознака пропуску. Познайомимося тепер з інтерфейсом програми RStudio (див. Рис. 2). Після входу у хмарну версію користувач потрапляє на сторінку з переліком своїх проектів. Для створення нового проекту треба клацнути кнопку New Project, після чого на екран завантажується застосунок RStudio. Він має рядок меню, панель інструментів і три віконця з вкладками. За замовчанням з лівого боку розташовано вікно консолі, в якому користувач вводить команди і отримує текстові результати виконання команд і повідомлення системи. Цей режим роботи не дуже зручний для початківця, тому варто в якості першого кроку відкрити додаткове вікно для введення тексту майбутнього скрипту (сценарію, програми) аналізу даних. Для цього оберіть в меню застосунку RStudio послідовність команд File – New File – R Script. На Рис. 2 це вікно позначено кружечком з цифрою 1. Поки вміст цього вікна не збережений, його назва Untitled 1.\n\nPicture 2\nУ віконці 1 користувач вводить текст сценарію обробки своїх даних, запускає на виконання окремий рядок, блок рядків чи увесь сценарій, а результати виконання команд будуть з’являтися в інших віконцях. Так, у віконці №3 відображається луна виконаних команд і їхні текстові результати, у віконці №2 (вкладка Global Environment, Глобальне Середовище) з’являтимуться створені під час аналізу об’єкти (наприклад, таблиці з імпортованими чи проміжними даними).\nВіконце №4 містить найбільшу кількість корисних для початківця вкладок. Тут відображаються файли у поточній папці (вкладка Files), побудовані графіки (вкладка Plots), встановлені пакети (вкладка Packages), довідкова інформація (вкладка Help), згенеровані функціями веб-сторінки (вкладка Viewer).\nДля проведення аналізу у хмарній версії RStudio підготовлений файл даних у форматі Excel слід спершу завантажити у хмарне сховище. Для цього у віконці №4 на вкладці Files клацніть кнопку Upload («завантажити»), оберіть файл з даними (наприклад, файл pss.xlsx), який знаходиться на вашому комп’ютері і дайте підтвердження. Після успішного завантаження ім’я файлу з’явиться у переліку файлів вкладки Files.\nНаступний крок – імпорт даних з файлу. Цей крок зазвичай здійснюється за допомогою виклику відповідної функції з потрібними аргументами, але для початківця простіше обрати в меню застосунку команду File – Import Dataset – From Excel. Якщо RStudio виведе діалогове вікно з питанням про оновлення необхідних для імпорту пакетів, дайте ствердну відповідь і зачекайте, поки RStudio виконує компіляцію і встановлення пакетів.\nДіалогове вікно імпорту файлів Excel має декілька елементів керування. Перш за все знайдіть потрібний файл (в нашому випадку це pss.xlsx), клацнувши кнопку Browse. Попередній перегляд вмісту файлу буде виведене у таблиці Data Preview. В групі опцій імпорту елементи мають таке призначення: поле Name має містити ім’я об’єкту – таблиці даних, в яку після імпорту потрапить вміст файлу. У випадаючому списку Sheets можна обрати ім’я аркушу книги для читання (за замовчанням читатиметься перший аркуш). Оберіть аркуш з назвою «Data View».\nПоле NA має містити код, яким ви позначили пропущені дані у файлі. Якщо ви скористалися моєю порадою і пропущені значення кодували за допомогою пустих клітинок в таблиці Excel, це поле можна лишити незаповненим. Нарешті, встановлений прапорець First Row as Names повідомляє процедурі імпорту, що імена майбутніх змінних таблиці даних слід брати з першого рядку файлу Excel. Зверніть увагу на те, що у віконці Code Preview знаходиться декілька рядків команд на мові R, які власне і здійснюють імпортування даних. На їхньому прикладі ви почнете знайомитися з мовою R. Скопіюйте їх у текст вашої першої програми аналізу даних. Я трохи змінив зовнішній вигляд команд для кращої читабельності і додав коментарі (пояснювальний текст, що йде після символу #)– див. Фрагмент коду 1:\n\n# Завантаження пакету для імпорту даних в форматі MS Excel\nlibrary(readxl)\n\n# Імпорт даних з файлу\npss <- read_excel(\n  path = \"pss.xlsx\", sheet = \"Data View\"\n)\n\n# Виведення вмісту об'єкту на екран\npss\n\n# A tibble: 462 × 14\n      id    b1    b2    b3    b4    b5    b6    b7    b8    b9   b10 gender\n   <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>  <dbl>\n 1     1     0     0     1     3     3     1     2     3     3     0      1\n 2     2     2     1     4     2     1     1     2     0     3     2      2\n 3     3     1     2     3     1     1     3     1     1     3     2      2\n 4     4     1     2     2     3     3     3     1     1     4     2      2\n 5     5     3     3     3     3     3     2     3     2     1     1      2\n 6     6     0     1     4     3     4     0     3     3     0     3      1\n 7     7     1     4     4     1     0     3     0     1     4     4      1\n 8     8     2     1     2     3     2     1     2     2     2     1      1\n 9     9     2     2     1     4     3     0     3     3     2     1      1\n10    10     2     2     4     3     2     3     2     2     2     3      2\n# … with 452 more rows, and 2 more variables: year <dbl>, fin_state <dbl>\n\n\nРозберемо цей фрагмент програми, з якого практично завжди починається аналіз даних. По-перше, слід запам’ятати, що дві представлені в ньому команди library() та read_excel() називаються функціями. Функції відіграють надзвичайно важливу роль в R, кожна з них має своє особливе призначення — імпорт чи перетворення даних, побудова діаграм, виконання статистичного аналізу і виведення результатів у потрібному вигляді здійснюється відповідними функціями. Для цього функціям при виклику передається інформація у вигляді аргументів – таблиць даних і змінних у них, а також вказівок на бажаний характер переробки вхідної інформації і виведення результатів (опцій).\nАргументи функції йдуть у послідовному порядку і можуть мати свої власні імена. Наприклад, функція read_excel() має аж дванадцять аргументів, які визначають безліч корисних аспектів її поведінки в різних обставинах (наприклад, назви і типи стовпчиків таблиці даних, кодування пропущених значень тощо). Ми використали два найважливіших аргументи з іменами path (шлях і ім’я файлу Excel, з якого відбувається імпорт даних) і sheet (ім’я аркуша книги). Оскільки ці два аргументи йдуть першими, можна було б і не вказувати їхні імена при виклику функції, але обов’язкове іменування аргументів – корисна практика для початківців, оскільки дозволяє краще розуміти створений скрипт. Зауважте, що в цьому прикладі обом аргументам функції передаються рядкові значення, взяті у подвійні лапки. Знак = («дорівнює») відділяє ім’я аргументу і значення, яке йому передається, а один аргумент від іншого відділяється комою.\nДеякі аргументи функції мають значення «за замовчанням», тобто, якщо користувач при виклику функції не вказує цей аргумент, його значення встановлюється автоматично. Наприклад, аргумент col_names має логічне значення за замовчанням TRUE (істина, тобто – «так, в файлі перший рядок містить імена стовпчиків»). Аргументи за замовчанням має сенс вказувати тільки тоді, коли ви хочете передати їм якесь інше значення.\nВиклик функції може давати безпосередній і побічний результат. Функція, як кажуть програмісти, повертає безпосередній результат. В R це може бути вектор, що складається тільки з елементів одного й того ж типу – чисел, рядків тексту або логічних значень (так звані «атомарні вектори»). Функція також може повертати вектор, елементами якого є об’єкти різного типу – вектори, матриці, списки. Такі особливі вектори називаються списками (list). Ви звернули увагу, що елементами списку можуть бути інші списки? Списки дуже корисні для зберігання комплексної інформації і будуть зустрічатися нам весь час при аналізі даних в R – як структура для зберігання даних, аргумент функцій і результат, який функція повертає. Наприклад, функція read_excel() повертає особливий тип списку під назвою tibble, в якому R зберігає таблицю даних емпіричного дослідження.\nДо речі, не лякайтеся терміну «вектор», для вас зараз це має означати лише послідовність певних значень. Вектори в R відіграють різні ролі – це можуть бути змінні, які піддаються аналізу, опції для функцій, або результати, які повертають функції. Найпростіший спосіб створити вектор чисел (чи рядків, логічних значень тощо) – скористатися особливою функцією c(). Їй в дужках передаються через кому аргументи, які функція зчіплює в один об’єкт-вектор. Наприклад, виклик c(1, 2, 3, 4, 5) створить вектор з п’яти цілих чисел від 1 до 5. Існує зручний скорочений спосіб створення таких послідовностей цілих чисел, який ви будете часто використовувати для того, щоб звернутися до послідовних стовпчиків таблиці даних. Запис 1:5, наприклад, згенерує таку саму послідовність з п’яти цілих чисел:\n\nc(1, 2, 3, 4, 5)\n\n[1] 1 2 3 4 5\n\n1:5\n\n[1] 1 2 3 4 5\n\n\nРезультат, який повернула функція, має бути збережений, щоб його можна було використовувати надалі в скрипті. Якщо цього не зробити, він просто друкується на екрані. Для зв’язування об’єкту-результату і обраного аналітиком імені в R є спеціальний оператор присвоєння, який складається з двох символів – знаку «менше» та дефісу – і виглядає, як стрілка. У короткому фрагменті скрипту, який ми розбираємо, за допомогою оператора присвоєння імпортовані з Excel дані записуються в об’єкт на ім’я pss. Цей об’єкт після імпорту і зв’язування з іменем починає існувати у Глобальному Середовищі (на Рис. 2 ви можете побачити його у віконці №2). Тепер до об’єкта pss можна звертатися, передаючи його іншим корисним функціям.\nОкрім безпосереднього результату, який функція повертає, вона може бути корисною своїми побічними ефектами. Наприклад, функція hist() в якості побічного результату будує спеціальний графік – гістограму – для переданого їй вектору даних.\nЗалишилося пояснити перший рядок фрагменту нашої програми. Що означає команда library(readxl)? Справа в тому, що функцій в R величезна кількість. Тому їх групують за призначенням у так звані «пакети» (packages). Частина пакетів є базовими і встановлюються при інсталяції R і RStudio. Необов’язкові пакети (а їх зараз нараховується десятки тисяч) потрібно спочатку встановити із спеціальних сховищ в Інтернеті («репозиторіїв») і підключити до сеансу роботи, щоб функції, які в них включені, стали доступними для виклику. Функція library() якраз і призначена для підключення пакету readxl до сеансу роботи. Як зрозуміло з назви пакету, він містить функції для читання файлів у форматі Microsoft Excel.\nДля відтворення процедур аналізу даних, які розглядаються в цій статті, вам необхідно інсталювати з репозиторію такі пакети: readxl, psych, pwr, dplyr, car, jmv, MBESS, MOTE. Кожен з них, в свою чергу, може залежати від інших пакетів, які будуть встановлюватися автоматично. Найпростіший для початківця спосіб інсталяції пакета передбачає використання меню застосунку RStudio. Оберіть в ньому команду Tools – Install Packages і вкажіть назви пакетів у діалоговому вікні, що з’явиться на екрані. Після інсталяції назви нових пакетів будуть додані до списку у бібліотеці користувача (див. вкладку Packages віконця №4)."
  },
  {
    "objectID": "part1.html#статистична-потужність-і-величина-ефекту",
    "href": "part1.html#статистична-потужність-і-величина-ефекту",
    "title": "2  Приступаємо до аналізу",
    "section": "2.5 Статистична потужність і величина ефекту",
    "text": "2.5 Статистична потужність і величина ефекту\nРозібравшись із тим, як в R використовуються функції, ми можемо повернутися до розгляду того, що вібувається на етапі планування дослідження. Одним з важливих чинників кризи відтворюваності часто називають некоректну практику перевірки статистичних гіпотез, у зв’язку з чим західні дослідники неодноразово пропонували вжити ті чи інші заходи – включаючи навіть її повну заборону. Наведу приклад, який висвітлює лише невелику частку проблем, пов’язаних з перевіркою статистичних гіпотез. Припустимо, сто дослідників незалежно один від одного вирішили вивчити, як відрізняються за рівнем академічного інтелекту типові представники двох популяцій – успішних і неуспішних студентів. Нехай середнє значення для першої популяції насправді дорівнює 108 IQ-балів, для другої – 100 IQ-балів, а стандартне відхилення в обох складає 15 IQ-балів. Тобто, різниця середніх двох популяцій дорівнює приблизно половині стандартного відхилення шкали IQ. Зрозуміло, що провести суцільне обстеження популяцій нереально через брак часу і ресурсів, тому зазвичай дослідники вимушені мати справу з вибірками. Якщо випадковим чином обирати вибірки по 25 досліджуваних з кожної популяції (об’єм, який часто рекомендують наукові керівники своїм студентам), то приблизно у половині з ста досліджень різниця середніх на основі t-критерію Ст’юдента не буде визнана статистично значущою на рівні α = 0.05. Причиною такого результату є низька статистична потужність (power) критерію для такого плану дослідження. Потужністю називають ймовірність відкидання нульової гіпотези, коли вона є насправді (тобто, в популяції) невірною. Відомий американський методолог Джейкоб Коен ще у 1962 році провів вивчення статистичної потужності досліджень, опублікованих в журналі Journal of Abnormal and Social Psychology за рік, і показав, що вона дорівнювала 0.48 для тих результатів, що були отримані (Cohen, 1992). Аналогічні показники потужності спостерігалися й у більш сучасних виданнях. Таким чином, якщо об’єм вибірки не сприяв високій ймовірності знайти статистично значущі ефекти, а вони тим не менше були виявлені у дослідженні, тоді, скоріше за все, мали місце сумнівні дослідницькі практики (наприклад, p-hacking – полювання за статистично значущими результатами).\nЗ іншого боку, якщо використовувати надзвичайно великі вибірки, з’являється інша проблема: статистично значущими стають фактично будь-які відмінності чи кореляції, незважаючи на відсутність практично значимих результатів. Це пояснюється тим, що нульова гіпотеза часто формулюється як нереалістичне твердження про те, що в популяції параметр (наприклад, коефіцієнт кореляції, різниця відсотків чи середніх) в точності дорівнює нулю. Оскільки в дійсності це завжди не так, то велика вибірка дозволяє прийняти альтернативну гіпотезу про те, що параметр відрізняється від нуля, хоча ця відмінність може бути цілком тривіальною. Отже, р-значення має поступитися місцем більш релевантним показникам, які дозволяють зробити висновок про величину знайденого в дослідженні ефекту.\nВажливість робіт Дж. Коена для поведінкових наук полягає в тому, що він: 1) Створив систему показників величини ефекту для найбільш розповсюджених статистичних критеріїв; 2) Запропонував для кожного показника орієнтовні значення, які відповідають слабкому, посередньому і сильному ефекту; 3) Звернув увагу дослідників на необхідність враховувати потужність і величину ефекту при плануванні дослідження.\nНайбільш детально підхід Дж. Коена викладено у другому виданні його відомої монографії, яка присвячена аналізу статистичної потужності (Cohen, 1988). В цьому т’юторіалі я спираюсь на його коротку статтю, в якій наводяться основні результати цієї монографії (Cohen, 1992), щоб продемонструвати роботу з найбільш поширеними в психології базовими статистичними методами для пошуку взаємозалежності двох змінних: 1) Порівняння середніх у двох незалежних сукупностях за допомогою t-критерію Ст’юдента, величина ефекту d Коена; 2) Порівняння середніх у декількох незалежних сукупностях за допомогою однофакторного дисперсійного аналізу, величина ефекту ω^2 (омега в квадраті) і f^2; 3) Характеристика сили і напряму лінійного зв’язку двох неперервних нормально розподілених змінних за допомогою коефіцієнту кореляції Пірсона r; 4) Вивчення сили і характеру зв’язку двох категоріальних змінних за допомогою таблиці сполучення, величина ефекту w Коена.\nВ таблиці 1 для кожного з згаданих показників наведено значення для слабкого, посереднього і сильного ефекту. Варто зазначити, що такий підхід часто критикують в сучасні літературі (Kline, 2019, с. 180), оскільки кожна з галузей психології може мати свої власні стандарти величини ефекту й вона не обов’язково свідчить про практичну значущість. Проте, така класифікація, на мою думку, є дуже важливою як дидактичний засіб для початківців. Наприклад, часто початківці вважають, що кореляції, менші за 0.5, не заслуговують на увагу, тому обирають такі інструменти і дизайн дослідження, які гарантують отримання сильних, але насправді малоінформативних кореляцій змінних.\n\n\nTable 2.1: Показники величини ефекту і їхні рівні\n\n\nПоказник\nСлабкий\nПосередній\nСильний\n\n\n\n\n\\(d\\)\n0.20\n0.50\n0.80\n\n\n\\(\\omega^2\\)\n0.01\n0.06\n0.14\n\n\n\\(f^2\\)\n0.02\n0.15\n0.35\n\n\n\\(r\\)\n0.10\n0.30\n0.50\n\n\n\\(w\\)\n0.10\n0.30\n0.50\n\n\n\n\nЗагалом емпіричні дослідження можна розділити на пошукові (експлораторні) і підтверджувальні (конфірматорні). Перші спрямовані на пошук потенційно важливих закономірностей, які можуть лягти в основу нової психологічної теорії. Другі передбачають перевірку і розвиток існуючої теорії. Дуже важливо не плутати ці різні жанри і не видавати пошукові дослідження за підтверджувальні.\nСаме при проведенні підтверджувального дослідження важливим кроком є визначення необхідного об’єму вибірки, який забезпечить достатню статистичну потужність для виявлення очікуваної на основі теорії чи попередніх публікацій величини ефекту. В R пакеті pwr містяться функції, які дають можливість виконати обчислення об’єму вибірки за формулами, які запропонував Дж. Коен."
  },
  {
    "objectID": "part1.html#приклад-визначення-обєму-вибірки",
    "href": "part1.html#приклад-визначення-обєму-вибірки",
    "title": "2  Приступаємо до аналізу",
    "section": "2.6 Приклад визначення об’єму вибірки",
    "text": "2.6 Приклад визначення об’єму вибірки\nУ дослідженні сприйняття стресу за шкалою PSS (Cohen et al., 1983) на репрезентативній вибірці були отримані наступні дані: Чоловіки – 926 досліджуваних, середнє 12.1, стандартне відхилення 5.9; Жінки – 1406 досліджуваних, середнє 13.7, стандартне відхилення 6.6. На основі цих статистик показник величини ефекту d Коена (стандартизована різниця середніх) склав 0.256. Тобто, жінки переживають більший стрес у порівнянні з чоловіками, проте ця закономірність має слабку вираженість. Припустимо, що подібна різниця середніх буде спостерігатися також для популяції студентів НаУКМА. Яким має бути об’єм вибірок, щоб на рівні значущості α = 0.05 з статистичною потужністю 0.80 для t-критерію Ст’юдента для незалежних сукупностей перевірити альтернативну гіпотезу про вищий рівень стресу у жінок? Отримати відповідь на це питання допоможе наступний код на R, який дасть рішення – 189 спостережень у кожній групі:\n\nlibrary(pwr)\n\npwr.t.test(\n  d = 0.256, power = 0.80, \n  sig.level = 0.05, type = \"two.sample\", alternative = \"greater\"\n)\n\n\n     Two-sample t test power calculation \n\n              n = 189.3567\n              d = 0.256\n      sig.level = 0.05\n          power = 0.8\n    alternative = greater\n\nNOTE: n is number in *each* group\n\n\nАналогічним чином визначається потрібний об’єм вибірки для виявлення слабких ефектів перед проведенням досліджень за допомогою інших трьох критеріїв: однофакторного дисперсійного аналізу з трьома групами (482 спостереження), коефіцієнту кореляції Пірсона (782 спостереження) та критерію w Коена для зв’язку в таблиці сполучення з п’ятьма рядками і двома стовпчиками (1194 спостереження). Аргумент «кількість ступенів свободи» для останнього випадку визначається як df = (кількість рядків – 1)(кількість стовпчиків – 1):\nФрагмент коду 3. Визначення потужності для f², r і w\n\npwr.f2.test(u = 3 - 1, f2 = 0.02, sig.level = 0.05, power = 0.80)\n\n\n     Multiple regression power calculation \n\n              u = 2\n              v = 481.7428\n             f2 = 0.02\n      sig.level = 0.05\n          power = 0.8\n\n\npwr.r.test(r = 0.1, sig.level = 0.05, power = 0.8)\n\npwr.chisq.test(w = 0.1, df = 4, sig.level = 0.05, power = 0.8)\nЗгідно сучасних вимог до публікацій, розроблених Американською Психологічною Асоціацією (далі АПА), статті мають містити опис проведеного перед дослідженням аналізу статистичної потужності, а також всіх відхилень від запланованого об’єму вибірок (Publication Manual of the American Psychological Association, 2019)."
  },
  {
    "objectID": "part1.html#якість-даних",
    "href": "part1.html#якість-даних",
    "title": "2  Приступаємо до аналізу",
    "section": "2.7 Якість даних",
    "text": "2.7 Якість даних\nНа наступному, четвертому етапі аналізу, здійснюється перевірка якості зібраної інформації – визначення надійності даних, на основі яких обчислюються інтегральні показники (шкали), вивчення розподілу змінних, пошук незвичних спостережень. Легковажне ставлення дослідників до якості психологічного вимірювання є однією з суттєвих причин кризи відтворюваності. В літературі для позначення цієї проблеми використовується термін «сумнівні вимірювальні практики» (Flake & Fried, 2019). Стандарти АПА вимагають надання інформації про надійність і свідчення про валідність вимірювальних інструментів (тестів, спостерігачів, апаратури) на вибірці дослідження. Розповсюджену сьогодні практику наводити показник надійності-узгодженості α (альфа) Кронбаха західні методологи вважають застарілою і не завжди адекватною, оскільки він виходить з припущень про так звану «тау-еквівалентність» пунктів шкали (однакове навантаження на одну латентну змінну) і може мати високе значення, незважаючи на неодномірність даних (тобто, за відповідями можуть стояти декілька навіть не пов’язаних між собою латентних змінних). Більш коректний підхід полягає у перевірці явно заданої вимірювальної моделі засобами конфірматорного факторного аналізу і обчисленні міри надійності на її основі. Ця техніка знаходиться за рамками предмету даного т’юторіалу, тому тут я наведу найпростіший варіант: обчислення такого показника надійності, як ω (омега) МакДональда, на основі припущення про одномірність сукупності індикаторів на прикладі даних 10 питань шкали PSS:\nФрагмент коду 4. Обчислення α Кронбаха і ω МакДональда\n\nlibrary(jmv)\n\nreliability(\n  data = pss, vars = c(b1, b2, b3, b4, b5, b6, b7, b8, b9, b10),\n  revItems = c(b4, b5, b7, b8),\n  omegaScale = TRUE, omegaItems = TRUE \n)\n\n\n RELIABILITY ANALYSIS\n\n Scale Reliability Statistics              \n ───────────────────────────────────────── \n            Cronbach's α    McDonald's ω   \n ───────────────────────────────────────── \n   scale       0.8562137       0.8592846   \n ───────────────────────────────────────── \n\n\n Item Reliability Statistics \n ─────────────────────────── \n            McDonald's ω   \n ─────────────────────────── \n   b1          0.8565352   \n   b2          0.8393346   \n   b3          0.8436080   \n   b4  ᵃ       0.8422876   \n   b5  ᵃ       0.8499248   \n   b6          0.8520474   \n   b7  ᵃ       0.8446754   \n   b8  ᵃ       0.8438159   \n   b9          0.8501385   \n   b10         0.8379350   \n ─────────────────────────── \n   ᵃ reverse scaled item\n\n\nВ цьому блоці функції reliability() з пакету jmv передаються такі аргументи: data – таблиця даних pss, в якій містяться відповіді досліджуваних, vars ¬– вектор імен десяти змінних b1-b10, які є індикаторами суб’єктивного стресу, revItems – вектор імен чотирьох змінних з зворотним ключем, omegaScale – опція, яка замовляє виведення показника ω, omegaItems – опція, яка замовляє виведення інформації про надійність шкали за показником ω, коли з неї видалено відповідний індикатор.\nНа даних нашого дослідження ω дорівнює 0.859, що свідчить про їхню задовільну надійність (має бути вищою за 0.75). Іншими словами, досліджувані цієї вибірки відповідали на питання шкали узгоджено. Часто серед індикаторів шкали можуть траплятися не зовсім якісні пункти (поганий переклад питань, переплутаний напрям ключа, проблеми з розумінням питання саме в цій групі досліджуваних). Отримати інформацію про індикатори, на які варто звернути увагу для покращення якості вимірювання конструкту, можна з наступної таблиці 2:\nТаблиця 2. Статистики надійності пунктів шкали\nЯк можемо бачити, при викиданні жодного питання надійність шкали не збільшується. Без першого питання вона стає рівною 0.856, тобто, загальна надійність при його виключенні практично не зміниться, тому можна було б скоротити шкалу при необхідності. Проте насправді причини такого стану справ можуть бути значно складнішими, так що не варто поспішати.\nПереконавшись у тому, що шкали мають прийнятну надійність, можна переходити до створення потрібних нових змінних і перетворення існуючих. Перший тип перетворень – створення категоріальних змінних чи факторів з кількісних. У нашій таблиці даних pss є змінна gender, яка в закодованому вигляді містить інформацію про стать досліджуваного: одиницею позначені чоловіки, двійкою – жінки. Ця змінна має мати номінальну шкалу, оскільки її значення вказують на приналежність досліджуваного до певної категорії. Виконання потрібного перетворення здійснюється за допомогою функції factor():\nФрагмент коду 5. Створення категоріальної змінної – номінального фактору\n\npss$sex <- factor(\n  x = pss$gender, \n  levels = c(1, 2), \n  labels = c(\"Чоловіки\", \"Жінки\")\n)\n\nАргументами цієї функції є: x – змінна (стовпчик в таблиці даних), яку треба перетворити на фактор. Після знаку = у вищенаведеному фрагменті змінна вказується рядком pss$gender. Тобто, спочатку йде ім’я таблиці даних, потім спеціальний символ-розділювач $ (знак долара), а потім назва стовпчика в таблиці. Мова R має декілька альтернативних способів вказати ім’я однієї змінної: pss[[\"gender\"]] або pss[[12]] – змінна gender розташована в дванадцятому стовпчику таблиці даних і до неї можна звернутися за номером 12. Подвійні квадратні дужки і знак долара використовуються для доступу до елементів списку, а таблиці даних є одним з варіантів списку.\nАргумент levels (рівні фактора) має отримати вектор значень, які може приймати вхідна змінна (в даному випадку це числа 1 і 2). Аргументу labels передається вектор рядків, що відповідають текстовим позначенням рівнів фактору. Створений функцією вектор-фактор присвоюється новому стовпчику таблиці pss з назвою sex. Як бачимо, тут використовується спосіб звертання до змінних в таблиці даних з використанням знаку долара.\nІнші важливі перетворення змінних, які часто застосовуються в психологічних дослідженнях, включають в себе: 1) Обчислення інтегральних показників (шкал); 2) Категоризація неперервних змінних; 3) Перекодування одних значень змінної на інші; 4) Трансформації типу логарифм, квадратний корінь, піднесення у степінь тощо. Приклади таких перетворень наведені у фрагменті коду нижче. Для виконання багатьох перетворень зручніше за все використовувати функцію mutate() з пакету dplyr. Її першим аргументом є таблиця даних, яка містить необхідні змінні:\nФрагмент коду 6. Основні трансформації змінних\n## Перевертання шкали, Сумарний бал, Категоризація неперервної змінної\nlibrary(dplyr)\npss <- mutate(\n  pss, \n  b4 = 4 - b4, b5 = 4 - b5, \n  b7 = 4 - b7, b8 = 4 - b8,\n  score1 = b1 + b2 + b3 + b6 + b9 + b10,\n  score2 = b4 + b5 + b7 + b8,\n  score = score1 + score2,\n  group = cut(score, breaks = 4, include.lowest = TRUE)\n)\n\n# Створення змінної через перекодування існуючої\nlibrary(car)\npss$fin <- recode(\n  pss$fin_state, as.factor = TRUE,\n  recodes = \"1:2 = 'A'; 3 = 'B'; 4:5 = 'C'\"\n)\nВсі інші аргументи, вказані через кому, визначають ті трансформації, які необхідно здійснити з існуючими змінними, наприклад: 1) для змінних b4, b5, b7, b8 перевертається шкала (це питання із зворотним ключем); 2) обчислюються три інтегральні показники score1 і score2 як сума балів за прямі і зворотні питання шкали PSS, а потім утворюється змінна score як їхня сума; 3) Змінна score розбивається на чотири рівних діапазони (категоризується) функцією cut().\nУ другій частині наведеного фрагменту відбувається перекодування категоріальної змінної fin_state (фінансовий стан сім’ї досліджуваного) за допомогою функції recode() з пакету car. Її п’ять значень перекодовуються у три категорії A, B і C, оскільки наповненість першої і п’ятої категорій («Не вистачає грошей на їжу» та «Можемо купувати все, що захочемо») є недостатньою. Аргументу recodes передається рядок, в якому вказується схема перекодування існуючих значень у нові. Створений фактор fin з трьома рівнями буде використаний пізніше при проведенні дисперсійного аналізу.\nТаблиці і графіки розподілу (гістограми, боксплоти), а також описові статистики дають можливість зрозуміти поведінку змінних, діагностувати незвичайні спостереження і прийняти рішення про необхідні перетворення. Функція descriptives() з пакету jmv корисна тим, що виводить основні описові статистики і графіки:\nФрагмент коду 7. Описові статистики\nlibrary(jmv)\ndescriptives(\n  data = pss, vars = c(score1, score2, score, b1, b2),\n  skew = TRUE, sd = TRUE, kurt = TRUE, \n  hist = TRUE, freq = TRUE, box = TRUE \n)\nПорівняння середніх двох незалежних сукупностей. Після підготовки даних можна перейти до застосування статистичних критеріїв, призначених для перевірки гіпотез про існування відмінностей і зв’язків у популяції, що вивчається. Почнемо з порівняння двох незалежних груп ¬– чоловіків і жінок – за середнім значенням і дисперсією. Наступний блок містить виклик функції ttestIS(), яка виводить велику кількість корисної табличної і графічної інформації для такого порівняння:\nФрагмент коду 8. Замовлення t-критерію Ст’юдента для незалежних груп\nlibrary(jmv)\n\nttestIS(\n  formula = score ~ sex, data = pss,\n  welchs = TRUE, mann = TRUE, hypothesis = \"twoGreater\",\n  norm = TRUE, eqv = TRUE,\n  effectSize = TRUE, ciES = TRUE,\n  desc = TRUE, plots = TRUE\n)\nАргументу formula передається вираз, який містить символ ~ (тильда). Зліва від тильди вказано залежну неперервну змінну – сумарний бал score за шкалою стресу PSS. Після тильди йде незалежна дихотомічна змінна sex, за значеннями якої досліджувані потрапляють в одну з двох категорій за статтю. Додатково до t-критерію Ст’юдента для незалежних сукупностей функції замовляється обчислення критерію Уелча (аргумент welchs = TRUE), непараметричного критерію Манна-Уітні (аргумент mann = TRUE), величини ефекту d Коена і його довірчих інтервалів (аргументи effectSize = TRUE і ciES = TRUE), критерію Лівена для перевірки гіпотези про рівність дисперсій в двох сукупностях (аргумент eqv = TRUE), а також побудова таблиці з описовими статистиками і діаграми (аргументи desc = TRUE, plots = TRUE). Нарешті, аргумент hypothesis = “twoGreater” визначає тип альтернативної гіпотези: «у другій групі (тобто, у жінок) середнє значення є більшим у популяції».\nЯк можемо бачити у наступній таблиці, всі три критерія дають можливість відкинути нульову гіпотезу про відсутність відмінностей середніх значень суб’єктивного переживання стресу чоловіків і жінок у популяції студентів НаУКМА в 2019 році на рівні α = 0.001 й прийняти альтернативну гіпотезу: середнє значення для чоловіків є меншим, ніж у жінок.\nВеличина ефекту d дорівнює -0.427 (від’ємне значення з’явилося внаслідок того, що від меншого середнього віднімалося більше). За Дж. Коеном, це ефект майже середньої сили. Що важливіше, ми отримали не тільки точкову оцінку величини ефекту, але й 95-відсотковий довірчий інтервал, який несе інформацію про точність цієї оцінки: в популяції величина ефекту може знаходитися в проміжку від слабкого до посереднього:\nТаблиця 3. Критерії для порівняння двох незалежних груп\nIndependent Samples T-Test \n─────────────────────────────────────────────────────────────────────\n                 Statistic   df    p      Cohen's d   Lower    Upper \n─────────────────────────────────────────────────────────────────────\n Student's t         -4.17   460   < .001    -0.427   -0.633   -0.219\n Welch's t           -4.21   255   < .001    -0.427   -0.633   -0.219\n Mann-Whitney U      16683         < .001    -0.427   -0.633   -0.219\n─────────────────────────────────────────────────────────────────────\nNote. Hₐ Males < Females\nКритерій Лівена для цих даних дорівнює 0.276 з ступенями свободи 1 і 460 (таблиця не наводиться за браком місця). Таке або ще більше значення критерію, коли нульова гіпотеза про рівність дисперсій в популяції є вірною, можна отримати з ймовірністю 0.600 (р-значення). Отже, на рівні статистичної значущості α = 0.05 ми не можемо відкинути нульову гіпотезу про рівність дисперсій на користь альтернативної. Нарешті, таблиця з описовими статистиками для чоловіків і жінок дозволяє зрозуміти, яким є значення стресу для типового представника (середнє і медіана), з якою точністю вдалося оцінити середнє значення у популяції на основі вибіркових даних (стандартна похибка середнього SE), наскільки варіативними є дані в кожній групі (стандартне відхилення SD).\nТаблиця 4. Описові статистики по групах\nGroup Descriptives                                              \n ─────────────────────────────────────────────────────────────── \n            Group       N      Mean    Median    SD      SE      \n ─────────────────────────────────────────────────────────────── \n   score    Чоловіки    135    19.5      19.0    7.26    0.625   \n            Жінки       327    22.6      23.0    7.41    0.410   \n ───────────────────────────────────────────────────────────────\nНа основі цих описових статистик будується графік з довірчими інтервалами навколо середніх значень, який більш наочно передає знайдені відмінності у рівні суб’єктивного стресу (не наводиться за браком місця).\nПорівняння середніх більше ніж двох незалежних сукупностей. Якщо кількість груп, які порівнюються за середнім значенням, дві чи більше, дослідник може використати однофакторний дисперсійний аналіз для перевірки альтернативної гіпотези про те, що відмінності існують на рівні популяцій. На сьогоднішній день в методологічній літературі існує думка, що найкращим показником величини ефекту в цьому випадку є ω^2, а не η^2 – звичний показник частки поясненої дисперсії залежної змінної у вибірці, яка є зміщеною оцінкою поясненої дисперсії у популяції.\nПродемонструю використання однофакторного дисперсійного аналізу на прикладі даних про стрес. Нехай залежною змінною виступить score, сумарний бал по шкалі суб’єктивного стресу PSS, а незалежною – категоріальна змінна (фактор) fin, фінансовий стан сім’ї студента після перекодування. Фактор fin має три рівні після перекодування змінної fin_state: А – не вистачає грошей на їжу або вистачає на їжу, але одяг купувати вже складно, В – доводиться економити, щоб купити коштовні речі, С – можуть купувати деякі коштовні речі або можуть купувати все, що хочуть. Оскільки нестача фінансових ресурсів може виступати однією з прямих чи опосередкованих причин стресу, варто перевірити гіпотезу про існування відмінностей у сприйнятті стресу студентами в залежності від потрапляння в категорію А, В чи С. Для проведення аналізу скористаємося функцією ANOVA() з пакету jmv:\nТаблиця 5. Виклик однофакторного дисперсійного аналізу\nlibrary(jmv)\nANOVA(\n  formula = score ~ fin, data = pss,\n  effectSize = \"omega\", homo = TRUE, norm = TRUE, \n  postHoc = ~ fin, postHocCorr = \"scheffe\", \n  emMeans = ~ fin, emmTables = TRUE\n)\nАргументи formula і data грають ту саму роль, що й у прикладі з t-критерієм Ст’юдента, аргументу effectSize передається назва показника величини ефекту, аргументи postHoc і postHocCorr визначають, за якою змінною проводиться попарний аналіз різниці середніх та метод корекції статистичної значущості при множинних порівняннях. Аргументи homo і norm замовляють перевірку припущень про однорідність дисперсій і нормальність розподілу залежної змінної, важливі умови для застосування дисперсійного аналізу. Нарешті, аргументи emMeans і emmTables замовляють виведення таблиці і графіку з описовими статистиками по групах. Наведу лише дві таблиці з великої кількості результатів, які генерує ця функція:\nТаблиця 6. Таблиця дисперсійного аналізу і величина ефекту\nANOVA - score                                                       \n─────────────────────────────────────────────────────────────────── \n           Sum of Squares   df   Mean Square   F      p       ω²    \n─────────────────────────────────────────────────────────────────── \nfin                   808     2        403.8   7.38   < .001  0.027 \nResiduals           25103   459         54.7                        \n─────────────────────────────────────────────────────────────────── \nОтже, F критерій виявився статистично значущим на рівні 0.001, а величина ефекту вказує на слабку залежність. Оскільки критерії Лівена і Шапіро-Уілка виявилися статистично незначущими (тобто, дані не суперечать припущенням про те, що залежна змінна має нормальний розподіл і її дисперсія однакова в трьох групах), ми можемо використовувати F критерій для висновку про рівність середніх.\nЗверніть увагу, що ми отримали лише точкову оцінку величини ефекту, отже, потрібні додаткові дії для побудови довірчого інтервалу. Скористаємося функцією omega.F() з пакету MOTE. Значення для її аргументів візьмемо з таблиці дисперсійного аналізу, яка була наведена вище:\nФрагмент коду 9. Визначення довірчих інтервалів для величини ефекту ω²\nlibrary(MOTE)\nresult <- omega.F(dfm = 2, dfe = 459, Fvalue = 7.383, n = 462, a = 0.05)\nunlist(result[1:3])\nОтримані результати подаються в публікації у наступному вигляді: ω^2=.027, 95% CI [0.004, 0.061]. Отже, ми отримали слабкий ефект, який в популяції всіх студентів НаУКМА 2019 року може насправді знаходитися у діапазоні від тривіально малого до посереднього. Для точнішої оцінки знадобиться більша вибірка. Зазвичай після того, як дослідник приймає загальну альтернативну гіпотезу про існування відмінностей середніх між якимись групами, цілком логічним є поставити питання: які саме групи відрізняються (Post Hoc латиною означає «після того, як»)? Наступна таблиця містить результати всіх попарних порівнянь груп:\nТаблиця 7. Попарні порівняння середніх значень\nPost Hoc Comparisons - fin                                    \n───────────────────────────────────────────────────────────── \nfin     fin   Mean Difference   SE      df    t     p-tukey   \n───────────────────────────────────────────────────────────── \nA   -   B                3.99   1.462   459   2.73    0.018   \n    -   C                5.28   1.427   459   3.70   < .001   \nB   -   C                1.28   0.725   459   1.77    0.181   \n─────────────────────────────────────────────────────────────\nОтже, лише найбідніші досліджувані статистично значущо відрізняються від представників двох інших категорій, різниця середніх за показником суб’єктивного стресу оцінюється в 3.99 і 5.38 балів за шкалою PSS відповідно.\nКореляційний аналіз. У вітчизняній психології кореляційні дослідження зустрічаються значно частіше за експериментальні, тому у більшості публікацій наводяться результати парного кореляційного аналізу. Оскільки коефіцієнт кореляції вже є показником величини ефекту, для врахування сучасних методологічних вимог нам потрібно частіше: 1) Планувати об’єм вибірки у відповідності до очікуваної сили зв’язку; 2) Наводити в публікаціях довірчі інтервали для коефіцієнтів кореляції; 3) Використовувати корекцію на множинні порівняння при проведенні пошукових досліджень. Ось приклад того, як кореляційний аналіз можна провести в R за допомогою функції corr.test() з пакету psych:\nФрагмент коду 10. Кореляційний аналіз\nlibrary(psych)\ncm <- corr.test(x = pss[2:5], method = \"pearson\", adjust = \"hochberg\")\nprint(cm, digits = 3, short = FALSE)\nПершим аргументом функції є таблиця даних. В квадратних дужках після імені таблиці можна вказати вектор номерів або імен змінних, які беруть участь в кореляційному аналізі – в даному прикладі це змінні у стовпчиках з другого по п’ятий. Аргумент method вказує функції, який саме з трьох коефіцієнтів кореляції має бути обчислений: Пірсона, Спірмена чи Кендала. Аргументу adjust передають назву метода корекції статистичної значущості з врахуванням кількості змінних (в даному прикладі це сучасний метод Хохберга). Для виведення довірчих інтервалів результати кореляційного аналізу, записані в об’єкті cm, мають друкуватися з опцією short = FALSE). Поглянемо на те, як між собою пов’язані перші чотири питання з шкали PSS:\nТаблиця 8. Кореляційна матриця\nCorrelation matrix \n      b1    b2    b3    b4\nb1 1.000 0.434 0.415 0.248\nb2 0.434 1.000 0.471 0.406\nb3 0.415 0.471 1.000 0.368\nb4 0.248 0.406 0.368 1.000\nЯк можна бачити, сила лінійного зв’язку між індикаторами шкали PSS коливається від середньої (b1 і b4) до сильної (b2 і b3). При змістовній інтерпретації кореляцій слід враховувати те, що сильний зв’язок може бути наслідком схожості питань.\nВ наступній таблиці міститься матриця р-значень, на основі яких дослідник приймає рішення про те, яку з двох гіпотез слід обрати: нульову – в популяції коефіцієнт кореляції в точності дорівнює нулю, чи альтернативну – в популяції кореляція відрізняється від нульової. При цьому значення вище діагоналі скориговані на кількість здійснених перевірок. Оскільки всі елементи в цій частині матриці наближаються до нуля, кореляційні коефіцієнти залишилися статистично значущими, навіть не зважаючи на корекцію:\nТаблиця 9. Статистична значущість коефіцієнтів кореляції\nProbability values \n(Entries above the diagonal are adjusted for multiple tests.) \n   b1 b2 b3 b4\nb1  0  0  0  0\nb2  0  0  0  0\nb3  0  0  0  0\nb4  0  0  0  0\nНарешті, в останній таблиці містяться 95-відсоткові довірчі інтервали для коефіцієнтів кореляції змінних у популяції. Так, оцінка сили зв’язку питань b1 і b2 в популяції перебуває у діапазоні від 0.357 (посередній ефект) до 0.505 (сильний ефект). Отже, довірчий інтервал є достатньо широким, незважаючи на велику вибірку. Таке подання дозволяє іншим дослідникам розуміти, з якою точністю вдалося оцінити величину ефекту у конкретному дослідженні.\nТаблиця 10. Довірчі інтервали для коефіцієнтів кореляції Пірсона\n      raw.lower raw.r raw.upper \nb1-b2     0.357 0.434     0.505 \nb1-b3     0.336 0.415     0.488 \nb1-b4     0.160 0.248     0.332 \nЗв’язок категоріальних змінних. Застосування коефіцієнтів кореляції Пірсона до змінних, виміряних у п’ятибальній шкалі, суперечить припущенням, які лежать в основі цієї статистики: метрична шкала вимірювання змінних, лінійність зв’язку і двовимірний нормальний розподіл. Більш коректним і інформативним підходом в цьому випадку є побудова таблиці сполучення (contingency table) і вивчення нелінійного зв’язку в ній. Побудувати таку таблицю в R можна, наприклад, за допомогою функції contTables() з пакету jmv:\nФрагмент коду 11. Побудова таблиці сполучення\nlibrary(jmv)\ncontTables(\n  rows = b3, cols = sex, data = pss, \n  phiCra = TRUE, taub = TRUE, pcCol = TRUE\n)\nАргументи функції вказують, які змінні відповідають рядкам (rows) і стовпчикам таблиці (cols), чи слід обчислювати показник сили зв’язку φ та V Крамера (phiCra) і виводити відсотки, обчислені по стовпчиках таблиці (pcCol).\nЯк показав такий аналіз, найтісніший зв’язок між статтю досліджуваного і індикаторами шкали суб’єктивного стресу існує для третього питання: «Як часто протягом останнього місяця ви відчували себе знервованим чи в стані стресу?» . Наприклад, відповідь з кодом 4 – «Дуже часто» – дають 32.6% чоловіків (біля третини) і 46.8% жінок (біля половини). Статистика χ² (хі-квадрат) має значення 24.7 при чотирьох ступенях свободи, що є статистично значущим показником на рівні α = 0.001 і дозволяє відкинути нульову гіпотезу про те, категоріальні змінні не пов’язані в популяції студентів НаУКМА в 2019 році.\nТаблиця 11. Таблиця сполучення і критерій χ²\nContingency Tables                                        \n ───────────────────────────────────────────────────────── \n   b3                       Чоловіки      Жінки    Total   \n ───────────────────────────────────────────────────────── \n   0        % within column      5.2        0.6      1.9   \n   1        % within column     16.3        6.4      9.3   \n   2        % within column     22.2       16.8     18.4   \n   3        % within column     23.7       29.4     27.7   \n   4        % within column     32.6       46.8     42.6   \n   Total    % within column    100.0      100.0    100.0   \n ─────────────────────────────────────────────────────────\n\n χ² Tests                        \n ─────────────────────────────── \n         Value    df    p        \n ─────────────────────────────── \n   χ²     27.4     4    < .001   \n   N       462                   \n ───────────────────────────────\nВисновку про наявність статистично значущого зв’язку замало для сучасного дослідження, тому за допомогою функції v.chi.sq() з пакету MOTE ми можемо побудувати довірчий інтервал для V Крамера – міри сили зв’язку номінальних категоріальних змінних. Для її аргументів візьмемо інформацію з вищенаведених таблиць:\nФрагмент коду 12. Побудова довірчих інтервалів для V Крамера і w Коена\nlibrary(MOTE)  \nv <- v.chi.sq(x2 = 27.404, n = 462, r = 5, c = 2)\nunlist(v[1:3])\n\n# w Коена\nunlist(v[1:3]) * sqrt(2 - 1)\nВ результаті отримаємо такі статистики: V = .24, 95% CI [.14, .26] та χ^2(8) = 27.40, p < .001 (подання у стилі АПА). Завдяки простому перетворенню з V також можна отримати значення показника w Коена: w = 0.24, 95% CI [.16, .34]. Отже, мова тут йде про зв’язок середньої сили, який в популяції може виявитися і слабким."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  Висновки",
    "section": "",
    "text": "Мова програмування і середовище статистичного аналізу R створюють ідеальні умови для застосування сучасних статистичних методів вітчизняними фахівцями і студентами, оскільки дозволяють планувати дослідження з врахуванням статистичної потужності, використовувати показники величини ефектів, будувати для них довірчі інтервали, подавати результати в графічному вигляді. Доступність сучасних психометричних методів у складі R забезпечить покращення стану справ з якістю вимірювання і створенням нових психологічних тестів. Все це має позитивно вплинути на можливість публікації результатів наших досліджень в кращих західних журналах в умовах сучасної методологічної кризи.\nПерспективи подальших досліджень. Публікацію подібних т’юторіалів варто продовжити, зосереджуючись на найбільш просунутих сучасних багатовимірних методах типу моделювання структурними рівняннями. Також поглиблене знання R може стати підґрунтям для розробки власних математико-статистичних методів."
  }
]